BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(b){var g;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as"))return!0;b=document.domain}if(-1===b.indexOf("."))return!1;try{return g=window.parent.document,void 0!==g}catch(a){document.domain=b}try{return g=window.parent.document,void 0!==g}catch(c){b=b.replace(/^[\w\-]+\./,"")}return BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();
(function(b){function g(a,c){var b=e(a,{detail:c});b&&BOOMR.setImmediate(function(){d.dispatchEvent?d.dispatchEvent(b):d.fireEvent&&d.fireEvent("onpropertychange",b)})}var a,c,d,f,e;b.parent!==b&&(document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase())&&(b=b.parent,f=document.getElementById("boomr-if-as").src);d=b.document;void 0===b.BOOMR&&(b.BOOMR={});BOOMR=b.BOOMR;if(!BOOMR.version){BOOMR.version="0.9.1410858395";BOOMR.window=b;try{void 0!==
new b.CustomEvent("CustomEvent")&&(e=function(a,c){return new b.CustomEvent(a,c)})}catch(i){d.createEvent?e=function(a,c){var b=d.createEvent("CustomEvent"),c=c||{cancelable:!1,bubbles:!1};b.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return b}:d.createEventObject&&(e=function(a,c){var b=d.createEventObject();b.type=b.propertyName=a;b.detail=c.detail;return b})}e||(e=function(){});a={beacon_url:"",beacon_type:"AUTO",site_domain:b.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),
user_ip:"",strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},onclick_handler:function(j){var c;j||(j=b.event);j.target?c=j.target:j.srcElement&&(c=j.srcElement);3===c.nodeType&&(c=c.parentNode);
(!c||!("OBJECT"===c.nodeName.toUpperCase()&&"application/x-shockwave-flash"===c.type))&&a.fireEvent("click",c)},onsubmit_handler:function(c){var d;c||(c=b.event);c.target?d=c.target:c.srcElement&&(d=c.srcElement);3===d.nodeType&&(d=d.parentNode);a.fireEvent("form_submit",d)},fireEvent:function(a,c){var d,b,e,a=a.toLowerCase();if(!this.events.hasOwnProperty(a))return!1;e=this.events[a];for(d=0;d<e.length;d++)try{b=e[d],b.fn.call(b.scope,c,b.cb_data)}catch(f){BOOMR.addError(f,"fireEvent")}this.public_events.hasOwnProperty(a)&&
g(this.public_events[a],c);return!0}};c={t_lstart:null,t_start:BOOMR_start,t_end:null,url:f,utils:{objectToString:function(a,c,d){var b=[],e;if(!a||"object"!==typeof a)return a;void 0===c&&(c="\n\t");d||(d=0);if("[object Array]"===Object.prototype.toString.call(a)){for(e=0;e<a.length;e++)0<d&&null!==a[e]&&"object"===typeof a[e]?b.push(this.objectToString(a[e],c+("\n\t"===c?"\t":""),d-1)):b.push(encodeURIComponent(a[e]));c=","}else for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(0<d&&null!==
a[e]&&"object"===typeof a[e]?b.push(encodeURIComponent(e)+"="+this.objectToString(a[e],c+("\n\t"===c?"\t":""),d-1)):b.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e])));return b.join(c)},getCookie:function(a){if(!a)return null;var a=" "+a+"=",c,b;b=" "+d.cookie+";";return 0<=(c=b.indexOf(a))?(c+=a.length,b=b.substring(c,b.indexOf(";",c))):null},setCookie:function(c,b,e){var f,g,l;if(!c||!a.site_domain)return BOOMR.debug("No cookie name or site domain: "+c+"/"+a.site_domain),!1;b=this.objectToString(b,
"&");f=c+"="+b;g=[f,"path=/","domain="+a.site_domain];e&&(l=new Date,l.setTime(l.getTime()+1E3*e),l=l.toGMTString(),g.push("expires="+l));if(500>f.length){d.cookie=g.join("; ");c=this.getCookie(c);if(b===c)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+b+"\n"+c)}else BOOMR.warn("Cookie too long: "+f.length+" "+f);return!1},getSubCookies:function(a){var c,b,d,e=!1,f={};if(!a)return null;if("string"!==typeof a)return BOOMR.debug("TypeError: cookie is not a string: "+
typeof a),null;a=a.split("&");c=0;for(b=a.length;c<b;c++)d=a[c].split("="),d[0]&&(d.push(""),f[decodeURIComponent(d[0])]=decodeURIComponent(d[1]),e=!0);return e?f:null},removeCookie:function(a){return this.setCookie(a,{},-86400)},cleanupURL:function(c){return!c?"":a.strip_query_string?c.replace(/\?.*/,"?qs-redacted"):c},hashQueryString:function(a,c){if(!a)return a;a.match(/^\/\//)&&(a=location.protocol+a);if(!a.match(/^(https?|file):/))return BOOMR.error("Passed in URL is invalid: "+a),"";c&&(a=a.replace(/#.*/,
""));return!BOOMR.utils.MD5?a:a.replace(/\?([^#]*)/,function(a,c){return"?"+(10<c.length?BOOMR.utils.MD5(c):c)})},pluginConfig:function(a,c,b,d){var e,f=0;if(!c||!c[b])return!1;for(e=0;e<d.length;e++)void 0!==c[b][d[e]]&&(a[d[e]]=c[b][d[e]],f++);return 0<f},addListener:function(a,c,d){a.addEventListener?a.addEventListener(c,d,!1):a.attachEvent("on"+c,d)},removeListener:function(a,c,d){a.removeEventListener?a.removeEventListener(c,d,!1):a.detachEvent("on"+c,d)},pushVars:function(a,c,d){var b,e,f=0;
for(b in c)if(c.hasOwnProperty(b))if("[object Array]"===Object.prototype.toString.call(c[b]))for(e=0;e<c[b].length;++e)f+=BOOMR.utils.pushVars(a,c[b][e],b+"["+e+"]");else++f,a.push(encodeURIComponent(d?d+"["+b+"]":b)+"="+(void 0===c[b]||null===c[b]?"":encodeURIComponent(c[b])));return f},postData:function(c){var b=document.createElement("iframe"),d=document.createElement("form"),e=document.createElement("input");b.name="boomerang_post";b.style.display=d.style.display="none";d.method="POST";d.action=
a.beacon_url;d.target=b.name;e.name="data";window.JSON?(d.enctype="text/plain",e.value=JSON.stringify(a.vars)):(d.enctype="application/x-www-form-urlencoded",e.value=c);document.body.appendChild(b);d.appendChild(e);document.body.appendChild(d);BOOMR.utils.addListener(b,"load",function(){document.body.removeChild(d);document.body.removeChild(b)});d.submit()}},init:function(e){var f,g,i=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string"];BOOMR_check_doc_domain();e||(e={});for(f=
0;f<i.length;f++)void 0!==e[i[f]]&&(a[i[f]]=e[i[f]]);void 0!==e.log&&(this.log=e.log);this.log||(this.log=function(){});for(g in this.plugins)if(this.plugins.hasOwnProperty(g))if(e[g]&&e[g].hasOwnProperty("enabled")&&!1===e[g].enabled)a.disabled_plugins[g]=1;else if(a.disabled_plugins[g]&&delete a.disabled_plugins[g],"function"===typeof this.plugins[g].init)try{this.plugins[g].init(e)}catch(h){BOOMR.addError(h,this.plugins[g]+".init")}if(a.handlers_attached)return this;if(!a.onloadfired&&(void 0===
e.autorun||!1!==e.autorun))d.readyState&&"complete"===d.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):b.onpagehide||null===b.onpagehide?c.utils.addListener(b,"pageshow",BOOMR.page_ready):c.utils.addListener(b,"load",BOOMR.page_ready);c.utils.addListener(b,"DOMContentLoaded",function(){a.fireEvent("dom_loaded")});e=function(){a.fireEvent("visibility_changed")};d.webkitVisibilityState?c.utils.addListener(d,"webkitvisibilitychange",e):d.msVisibilityState?c.utils.addListener(d,"msvisibilitychange",
e):d.visibilityState&&c.utils.addListener(d,"visibilitychange",e);c.utils.addListener(d,"mouseup",a.onclick_handler);e=d.getElementsByTagName("form");for(f=0;f<e.length;f++)c.utils.addListener(e[f],"submit",a.onsubmit_handler);!b.onpagehide&&null!==b.onpagehide&&c.utils.addListener(b,"unload",function(){BOOMR.window=b=null});a.handlers_attached=!0;return this},page_ready:function(c){c||(c=b.event);c||(c={name:"load"});if(a.onloadfired)return this;a.fireEvent("page_ready",c);a.onloadfired=!0;return this},
setImmediate:function(a,c,d,e){var f=function(){a.call(e||null,c,d||{});f=null};b.setImmediate?b.setImmediate(f):b.msSetImmediate?b.msSetImmediate(f):b.webkitSetImmediate?b.webkitSetImmediate(f):b.mozSetImmediate?b.mozSetImmediate(f):setTimeout(f,10)},subscribe:function(d,e,f,g){var i,l,h,d=d.toLowerCase();if(!a.events.hasOwnProperty(d))return this;h=a.events[d];for(i=0;i<h.length;i++)if(l=h[i],l.fn===e&&l.cb_data===f&&l.scope===g)return this;h.push({fn:e,cb_data:f||{},scope:g||null});"page_ready"===
d&&a.onloadfired&&this.setImmediate(e,null,f,g);"page_unload"===d&&(d=function(a){e&&e.call(g,a||b.event,f)},b.onpagehide||null===b.onpagehide?c.utils.addListener(b,"pagehide",d):c.utils.addListener(b,"unload",d),c.utils.addListener(b,"beforeunload",d));return this},addError:function(c,d){"string"!==typeof c&&(c=String(c));void 0!==d&&(c="["+d+"] "+c);a.errors[c]?a.errors[c]++:a.errors[c]=1},addVar:function(c,d){if("string"===typeof c)a.vars[c]=d;else if("object"===typeof c)for(var b in c)c.hasOwnProperty(b)&&
(a.vars[b]=c[b]);return this},removeVar:function(c){var d,b;if(!arguments.length)return this;b=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(c)?c:arguments;for(d=0;d<b.length;d++)a.vars.hasOwnProperty(b[d])&&delete a.vars[b[d]];return this},requestStart:function(a){var c=(new Date).getTime();BOOMR.plugins.RT.startTimer("xhr_"+a,c);return{loaded:function(d){BOOMR.responseEnd(a,c,d)}}},responseEnd:function(c,d,b){BOOMR.plugins.RT.startTimer("xhr_"+c,d);a.fireEvent("xhr_load",
{name:"xhr_"+c,data:b})},sendBeacon:function(){var c,e;e=[];BOOMR.debug("Checking if we can send beacon");for(c in this.plugins)if(this.plugins.hasOwnProperty(c)&&!a.disabled_plugins[c]&&!this.plugins[c].is_complete())return BOOMR.debug("Plugin "+c+" is not complete, deferring beacon send"),!1;a.vars.v=BOOMR.version;a.vars.u=BOOMR.utils.cleanupURL(d.URL.replace(/#.*/,""));b!==window&&(a.vars["if"]="");for(c in a.errors)a.errors.hasOwnProperty(c)&&e.push(c+(1<a.errors[c]?" (*"+a.errors[c]+")":""));
0<e.length&&(a.vars.errors=e.join("\n"));a.errors={};a.fireEvent("before_beacon",a.vars);if(!a.beacon_url)return BOOMR.debug("No beacon_url, but would have sent: "+BOOMR.utils.objectToString(a.vars)),!0;c=[];e=BOOMR.utils.pushVars(c,a.vars);this.setImmediate(a.fireEvent,"onbeacon",a.vars,a);if(!e)return this;c=c.join("&");"POST"===a.beacon_type?BOOMR.utils.postData(c):(e=a.beacon_url+(-1<a.beacon_url.indexOf("?")?"&":"?")+c,2E3<e.length&&"AUTO"===a.beacon_type?BOOMR.utils.postData(c):(BOOMR.debug("Sending url: "+
e.replace(/&/g,"\n\t")),c=new Image,c.src=e));return!0}};delete BOOMR_start;"number"===typeof BOOMR_lstart?(c.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"===typeof BOOMR.window.BOOMR_lstart&&(c.t_lstart=BOOMR.window.BOOMR_lstart);b.YAHOO&&b.YAHOO.widget&&b.YAHOO.widget.Logger?c.log=b.YAHOO.log:b.Y&&b.Y.log?c.log=b.Y.log:"object"===typeof console&&void 0!==console.log&&(c.log=function(a,c,d){console.log(d+": ["+c+"] "+a)});f=function(a){return function(c,d){this.log(c,a,"boomerang"+(d?"."+d:
""));return this}};c.debug=f("debug");c.info=f("info");c.warn=f("warn");c.error=f("error");for(var h in c)c.hasOwnProperty(h)&&(BOOMR[h]=c[h]);BOOMR.plugins=BOOMR.plugins||{};g("onBoomerangLoaded",{BOOMR:BOOMR})}})(window);
(function(b){var g=b.document,a;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};a={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,cached_t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},updateCookie:function(a,d){var b,e;if(!this.cookie)return!1;b=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||
{};if("object"===typeof a)for(e in a)if(a.hasOwnProperty(e))if(void 0===a[e])b.hasOwnProperty(e)&&delete b[e];else{if("nu"===e||"r"===e)a[e]=BOOMR.utils.hashQueryString(a[e],!0);b[e]=a[e]}e=(new Date).getTime();d&&(b[d]=e);BOOMR.debug("Setting cookie (timer="+d+")\n"+BOOMR.utils.objectToString(b),"rt");if(!BOOMR.utils.setCookie(this.cookie,b,this.cookie_exp))return BOOMR.error("cannot set start cookie","rt"),!1;b=(new Date).getTime();50<b-e&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+
e+" -> "+b,"rt"));return!0},initFromCookie:function(){var a,d;if(d=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))){d.s=Math.max(+d.ul||0,+d.cl||0);BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(d),"rt");if(d.s&&(d.r||d.nu))this.r=d.r,a=BOOMR.utils.hashQueryString(g.URL,!0),BOOMR.debug(this.r+" =?= "+this.r2,"rt"),BOOMR.debug(d.s+" <? "+(+d.cl+15),"rt"),BOOMR.debug(d.nu+" =?= "+a,"rt"),!this.strict_referrer||d.nu&&d.nu===a&&d.s<+d.cl+15||d.s===+d.ul&&this.r===this.r2?(this.t_start=
d.s,+d.hd>d.s&&(this.t_fb_approx=parseInt(d.hd,10))):this.t_start=this.t_fb_approx=void 0;this.updateCookie({s:void 0,r:void 0,nu:void 0,ul:void 0,cl:void 0,hd:void 0})}},getBoomerangTimings:function(){var a,d,b,e;BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-
BOOMR.t_lstart)));try{if(window.performance&&window.performance.getEntriesByName)for(e in b={"rt.bmr.":BOOMR.url},b)if(b.hasOwnProperty(e)&&b[e]&&(a=window.performance.getEntriesByName(b[e]))&&0!==a.length)for(d in a=a[0],a)a.hasOwnProperty(d)&&(d.match(/(Start|End)$/)&&0<a[d])&&BOOMR.addVar(e+d.replace(/^(...).*(St|En).*$/,"$1$2"),a[d])}catch(g){BOOMR.addError(g,"rt.getBoomerangTimings")}},checkPreRender:function(){if(!(g.visibilityState&&"prerender"===g.visibilityState)&&!(g.msVisibilityState&&
3===g.msVisibilityState))return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,"visible",BOOMR.plugins.RT);return!0},initFromNavTiming:function(){var a,d,f;if(!this.navigationStart){if((d=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance)&&d.navigation)this.navigationType=
d.navigation.type;d&&d.timing?a=d.timing:b.chrome&&b.chrome.csi&&b.chrome.csi().startE?(a={navigationStart:b.chrome.csi().startE},f="csi"):b.gtbExternal&&b.gtbExternal.startE()&&(a={navigationStart:b.gtbExternal.startE()},f="gtb");a?(BOOMR.addVar("rt.start",f||"navigation"),this.navigationStart=a.navigationStart||a.fetchStart||void 0,this.responseStart=a.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=a.unloadEventStart||a.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API",
"rt")}},setPageLoadTimers:function(c){a.initFromCookie();a.initFromNavTiming();if(a.checkPreRender())return!1;a.responseStart?(BOOMR.plugins.RT.endTimer("t_resp",a.responseStart),a.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",a.timers.t_load.end-a.responseStart):BOOMR.plugins.RT.setTimer("t_page",c-a.responseStart)):a.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):a.t_fb_approx&&(BOOMR.plugins.RT.endTimer("t_resp",a.t_fb_approx),BOOMR.plugins.RT.setTimer("t_page",c-a.t_fb_approx));
a.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender"));return!0},setSupportingTimestamps:function(c){BOOMR.addVar("rt.tstart",c);"number"===typeof a.t_start&&a.t_start!==c&&BOOMR.addVar("rt.cstart",a.t_start);BOOMR.addVar("rt.bstart",BOOMR.t_start);BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart);BOOMR.addVar("rt.end",a.timers.t_done.end)},determineTStart:function(c,d){var b;"xhr"===c&&d&&a.timers[d]?(b=a.timers[d].start,
BOOMR.addVar("rt.start","manual")):a.navigationStart?b=a.navigationStart:a.t_start&&2!==a.navigationType?(b=a.t_start,BOOMR.addVar("rt.start","cookie")):a.cached_t_start?b=a.cached_t_start:(BOOMR.addVar("rt.start","none"),b=void 0);BOOMR.debug("Got start time: "+b,"rt");return a.cached_t_start=b},page_ready:function(){this.onloadfired=!0},visibility_changed:function(){!g.hidden&&(!g.msHidden&&!g.webkitHidden)&&(a.visiblefired=!0)},page_unload:function(a){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(a)+
" when unloadfired = "+this.unloadfired,"rt");this.unloadfired||BOOMR.plugins.RT.done(a,"unload");this.updateCookie({r:g.URL},"beforeunload"===a.type?"ul":"hd");this.unloadfired=!0},_iterable_click:function(a,b,f,e){if(f){for(BOOMR.debug(a+" called with "+f.nodeName,"rt");f&&f.nodeName.toUpperCase()!==b;)f=f.parentNode;f&&f.nodeName.toUpperCase()===b&&(BOOMR.debug("passing through","rt"),a=e(f),this.updateCookie({nu:a},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(a)))}},onclick:function(c){a._iterable_click("Click",
"A",c,function(a){return a.href})},onsubmit:function(c){a._iterable_click("Submit","FORM",c,function(a){a=a.action||g.URL;return a.match(/\?/)?a:a+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(c){BOOMR.debug("init RT","rt");b!==BOOMR.window&&(b=BOOMR.window,g=b.document);BOOMR.utils.pluginConfig(a,c,"RT",["cookie","cookie_exp","strict_referrer"]);a.r=a.r2=BOOMR.utils.hashQueryString(g.referrer,!0);a.initFromCookie();a.getBoomerangTimings();
if(a.initialized)return this;a.complete=!1;a.timers={};BOOMR.subscribe("page_ready",a.page_ready,null,a);a.visiblefired=!(g.hidden||g.msHidden||g.webkitHidden);a.visiblefired||BOOMR.subscribe("visibility_changed",a.visibility_changed,null,a);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",a.domloaded,null,a);BOOMR.subscribe("page_unload",a.page_unload,null,a);BOOMR.subscribe("click",a.onclick,null,a);BOOMR.subscribe("form_submit",
a.onsubmit,null,a);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);a.initialized=!0;return this},startTimer:function(c,b){c&&("t_page"===c&&this.endTimer("t_resp",b),a.timers[c]={start:"number"===typeof b?b:(new Date).getTime()});return this},endTimer:function(c,b){c&&(a.timers[c]=a.timers[c]||{},void 0===a.timers[c].end&&(a.timers[c].end="number"===typeof b?b:(new Date).getTime()));return this},setTimer:function(c,b){c&&(a.timers[c]={delta:b});return this},addTimersToBeacon:function(c,
b){var f,e,g=[];for(f in a.timers)a.timers.hasOwnProperty(f)&&(e=a.timers[f],"number"!==typeof e.delta&&("number"!==typeof e.start&&(e.start=a.cached_t_start),e.delta=e.end-e.start),isNaN(e.delta)||(a.basic_timers.hasOwnProperty(f)?BOOMR.addVar(f,e.delta):g.push(f+"|"+e.delta)));g.length&&BOOMR.addVar("t_other",g.join(","));"beacon"===b&&(a.timers={},a.complete=!1)},done:function(c,b){BOOMR.debug("Called done with "+BOOMR.utils.objectToString(c)+", "+b,"rt");var f,e=(new Date).getTime(),g=!1;a.complete=
!1;if(("load"===b||"visible"===b)&&!a.setPageLoadTimers(e))return this;"xhr"===b&&(c&&c.data)&&(g=c.data.subresource);f=a.determineTStart(b,c?c.name:null);this.endTimer("t_done",e);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld");a.setSupportingTimestamps(f);this.addTimersToBeacon();"xhr"!==b&&(BOOMR.addVar("r",BOOMR.utils.cleanupURL(a.r)),a.r2!==a.r&&BOOMR.addVar("r2",BOOMR.utils.cleanupURL(a.r2)));
g&&BOOMR.addVar("rt.subres",1);a.updateCookie();"unload"===b&&(BOOMR.addVar("rt.quit",""),a.onloadfired||BOOMR.addVar("rt.abld",""),a.visiblefired||BOOMR.addVar("rt.ntvu",""));a.complete=!0;BOOMR.sendBeacon();return this},is_complete:function(){return a.complete}}})(window);
(function(){var b,g;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};g=[{name:"image-0.png",size:11483,timeout:1400},{name:"image-1.png",size:40658,timeout:1200},{name:"image-2.png",size:164897,timeout:1300},{name:"image-3.png",size:381756,timeout:1500},{name:"image-4.png",size:1234664,timeout:1200},{name:"image-5.png",size:4509613,timeout:1200},{name:"image-6.png",size:9084559,timeout:1200}];g.end=g.length;g.start=0;g.l={name:"image-l.gif",size:35,timeout:1E3};b={base_url:"",timeout:15E3,nruns:5,
latency_runs:10,user_ip:"",test_https:!1,cookie_exp:604800,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:!1,complete:!0,running:!1,initialized:!1,ncmp:function(a,c){return a-c},iqr:function(a){var c=a.length-1,b,f,e,g=[],h;b=(a[Math.floor(0.25*c)]+a[Math.ceil(0.25*c)])/2;f=(a[Math.floor(0.75*c)]+a[Math.ceil(0.75*c)])/2;e=1.5*(f-b);if(0===e)return a;c++;for(h=0;h<c&&a[h]<f+e;h++)a[h]>b-e&&g.push(a[h]);return g},calc_latency:function(){var a,c,b=0,f=0,e;this.latencies.shift();
e=this.iqr(this.latencies.sort(this.ncmp));c=e.length;BOOMR.debug("latencies: "+this.latencies,"bw");BOOMR.debug("lat_filtered: "+e,"bw");for(a=0;a<c;a++)b+=e[a],f+=e[a]*e[a];a=Math.round(b/c);b=Math.sqrt(f/c-b*b/(c*c));f=(1.96*b/Math.sqrt(c)).toFixed(2);b=b.toFixed(2);c=Math.round((e[Math.floor(c/2)]+e[Math.ceil(c/2)])/2);return{mean:a,median:c,stddev:b,stderr:f}},calc_bw:function(){var a,c,b=0,f,e=[],i=[],h=0,j=0,k=0,m=0,n,p,l=[];for(a=0;a<this.nruns;a++)if(this.results[a]&&this.results[a].r){f=
this.results[a].r;n=0;for(c=f.length-1;0<=c&&3>n&&f[c];c--)null!==f[c].t&&(b++,n++,p=1E3*g[c].size/f[c].t,e.push(p),p=1E3*g[c].size/(f[c].t-this.latency.mean),i.push(p),f[c].t<this.latency.mean&&l.push(c+"_"+f[c].t))}BOOMR.debug("got "+b+" readings","bw");BOOMR.debug("bandwidths: "+e,"bw");BOOMR.debug("corrected: "+i,"bw");3<e.length?(e=this.iqr(e.sort(this.ncmp)),i=this.iqr(i.sort(this.ncmp))):(e=e.sort(this.ncmp),i=i.sort(this.ncmp));BOOMR.debug("after iqr: "+e,"bw");BOOMR.debug("corrected: "+i,
"bw");b=Math.max(e.length,i.length);for(a=0;a<b;a++)a<e.length&&(h+=e[a],j+=Math.pow(e[a],2)),a<i.length&&(k+=i[a],m+=Math.pow(i[a],2));b=e.length;a=Math.round(h/b);h=Math.sqrt(j/b-Math.pow(h/b,2));j=Math.round(1.96*h/Math.sqrt(b));h=Math.round(h);b=e.length-1;e=Math.round((e[Math.floor(b/2)]+e[Math.ceil(b/2)])/2);b=i.length;c=Math.round(k/b);k=Math.sqrt(m/b-Math.pow(k/b,2));m=(1.96*k/Math.sqrt(b)).toFixed(2);k=k.toFixed(2);b=i.length-1;b=Math.round((i[Math.floor(b/2)]+i[Math.ceil(b/2)])/2);BOOMR.debug("amean: "+
a+", median: "+e,"bw");BOOMR.debug("corrected amean: "+c+", median: "+b,"bw");return{mean:a,stddev:h,stderr:j,median:e,mean_corrected:c,stddev_corrected:k,stderr_corrected:m,median_corrected:b,debug_info:l}},defer:function(a){var b=this;return setTimeout(function(){a.call(b);b=null},10)},load_img:function(a,b,d){var f=this.base_url+g[a].name+"?t="+(new Date).getTime()+Math.random(),e=0,i=0,h=new Image,j=this;h.onload=function(){h=h.onload=h.onerror=null;clearTimeout(e);d&&d.call(j,a,i,b,!0);j=d=null};
h.onerror=function(){h=h.onload=h.onerror=null;clearTimeout(e);d&&d.call(j,a,i,b,!1);j=d=null};e=setTimeout(function(){d&&d.call(j,a,i,b,null)},g[a].timeout+Math.min(400,this.latency?this.latency.mean:400));i=(new Date).getTime();h.src=f},lat_loaded:function(a,b,d,f){d===this.latency_runs+1&&(null!==f&&(a=(new Date).getTime()-b,this.latencies.push(a)),0===this.latency_runs&&(this.latency=this.calc_latency()),this.defer(this.iterate))},img_loaded:function(a,b,d,f){d===this.runs_left+1&&!this.results[this.nruns-
d].r[a]&&(null===f?this.results[this.nruns-d].r[a+1]={t:null,state:null,run:d}:(b={start:b,end:(new Date).getTime(),t:null,state:f,run:d},f&&(b.t=b.end-b.start),this.results[this.nruns-d].r[a]=b,a>=g.end-1||void 0!==this.results[this.nruns-d].r[a+1]?(BOOMR.debug(BOOMR.utils.objectToString(this.results[this.nruns-d],void 0,2),"bw"),d===this.nruns&&(g.start=a),this.defer(this.iterate)):this.load_img(a+1,d,this.img_loaded)))},finish:function(){this.latency||(this.latency=this.calc_latency());var a=this.calc_bw(),
b={bw:a.median_corrected,bw_err:parseFloat(a.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round((new Date).getTime()/1E3)};BOOMR.addVar(b);0<a.debug_info.length&&BOOMR.addVar("bw_debug",a.debug_info.join(","));!isNaN(b.bw)&&0<b.bw&&BOOMR.utils.setCookie(this.cookie,{ba:Math.round(b.bw),be:b.bw_err,l:b.lat,le:b.lat_err,ip:this.user_ip,t:b.bw_time},this.user_ip?this.cookie_exp:0);this.complete=!0;BOOMR.sendBeacon();this.running=!1},iterate:function(){if(this.aborted)return!1;
this.runs_left?this.latency_runs?this.load_img("l",this.latency_runs--,this.lat_loaded):(this.results.push({r:[]}),this.load_img(g.start,this.runs_left--,this.img_loaded)):this.finish()},setVarsFromCookie:function(a){var b=parseInt(a.ba,10),d=parseFloat(a.be,10),f=parseInt(a.l,10)||0,e=parseFloat(a.le,10)||0,g=a.ip.replace(/\.\d+$/,"0"),a=parseInt(a.t,10),h=this.user_ip.replace(/\.\d+$/,"0"),j=Math.round((new Date).getTime()/1E3);return g===h&&a>=j-this.cookie_exp&&0<b?(this.complete=!0,BOOMR.addVar({bw:b,
lat:f,bw_err:d,lat_err:e}),!0):!1}};BOOMR.plugins.BW={init:function(a){if(b.initialized)return this;BOOMR.utils.pluginConfig(b,a,"BW","base_url timeout nruns cookie cookie_exp test_https".split(" "));a&&a.user_ip&&(b.user_ip=a.user_ip);if(!b.base_url)return this;g.start=0;b.runs_left=b.nruns;b.latency_runs=10;b.results=[];b.latencies=[];b.latency=null;b.complete=!1;b.aborted=!1;BOOMR.removeVar("ba","ba_err","lat","lat_err");a=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(b.cookie));if(!a||!a.ba||
!b.setVarsFromCookie(a))BOOMR.subscribe("page_ready",this.run,null,this),BOOMR.subscribe("page_unload",this.skip,null,this);b.initialized=!0;return this},run:function(){if(b.running||b.complete)return this;if(!b.test_https&&"https:"===BOOMR.window.location.protocol)return BOOMR.info("HTTPS detected, skipping bandwidth test","bw"),b.complete=!0,BOOMR.sendBeacon(),this;b.running=!0;setTimeout(this.abort,b.timeout);b.defer(b.iterate);return this},abort:function(){b.aborted=!0;b.running&&b.finish();return this},
skip:function(){b.complete||(b.complete=!0,BOOMR.sendBeacon());return this},is_complete:function(){return b.complete}}})();
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var b={complete:!1,done:function(){var b=BOOMR.window,a,c;if(this.complete)return this;if((a=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance)&&a.timing&&a.navigation)BOOMR.info("This user agent supports NavigationTiming.","nt"),c=a.navigation,a=a.timing,c={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:a.navigationStart,nt_red_st:a.redirectStart,nt_red_end:a.redirectEnd,nt_fet_st:a.fetchStart,nt_dns_st:a.domainLookupStart,
nt_dns_end:a.domainLookupEnd,nt_con_st:a.connectStart,nt_con_end:a.connectEnd,nt_req_st:a.requestStart,nt_res_st:a.responseStart,nt_res_end:a.responseEnd,nt_domloading:a.domLoading,nt_domint:a.domInteractive,nt_domcontloaded_st:a.domContentLoadedEventStart,nt_domcontloaded_end:a.domContentLoadedEventEnd,nt_domcomp:a.domComplete,nt_load_st:a.loadEventStart,nt_load_end:a.loadEventEnd,nt_unload_st:a.unloadEventStart,nt_unload_end:a.unloadEventEnd},a.secureConnectionStart&&(c.nt_ssl_st=a.secureConnectionStart),
a.msFirstPaint&&(c.nt_first_paint=a.msFirstPaint),BOOMR.addVar(c);if(b.chrome&&b.chrome.loadTimes&&(a=b.chrome.loadTimes()))c={nt_spdy:a.wasFetchedViaSpdy?1:0,nt_first_paint:a.firstPaintTime},BOOMR.addVar(c);this.complete=!0;BOOMR.sendBeacon()}};BOOMR.plugins.NavigationTiming={init:function(){BOOMR.subscribe("page_ready",b.done,null,b);BOOMR.subscribe("page_unload",b.done,null,b);return this},is_complete:function(){return b.complete}}})();
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var b={complete:!1,base_url:"",t_start:null,t_dns:null,t_http:null,img:null,gen_url:"",start:function(){if(!b.gen_url){var g=Math.random().toString(36),a=(new Date).getTime()+"."+Math.random();b.gen_url=b.base_url.replace(/\*/,g);b.img=new Image;b.img.onload=b.A_loaded;b.t_start=(new Date).getTime();b.img.src=b.gen_url+"image-l.gif?t="+a}},A_loaded:function(){var g;b.t_dns=(new Date).getTime()-b.t_start;g=(new Date).getTime()+"."+Math.random();
b.img=new Image;b.img.onload=b.B_loaded;b.t_start=(new Date).getTime();b.img.src=b.gen_url+"image-l.gif?t="+g},B_loaded:function(){b.t_http=(new Date).getTime()-b.t_start;b.img=null;b.done()},done:function(){BOOMR.addVar("dns.t",b.t_dns-b.t_http);b.complete=!0;b.gen_url="";BOOMR.sendBeacon()}};BOOMR.plugins.DNS={init:function(g){BOOMR.utils.pluginConfig(b,g,"DNS",["base_url"]);if(!b.base_url)return BOOMR.warn("DNS.base_url is not set.  Cannot run DNS test.","dns"),b.complete=!0,this;if("https:"===
BOOMR.window.location.protocol)return b.complete=!0,this;BOOMR.subscribe("page_ready",b.start,null,b);return this},is_complete:function(){return b.complete}}})();BOOMR.t_end=(new Date).getTime();
(function(b){var g=b.slideshare_object.rum,a=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance,c="object"===typeof a,d=0,f=!1,e,i=!1,h=!1,j,k=function(a,b){i=!0;a||(h=!0,j=b)},m=b.location.protocol+"//"+b.location.host+"/status",n;if("function"!==typeof k)throw new TypeError("Callback function must be specified");try{n=new XMLHttpRequest,n.addEventListener("readystatechange",function(){var a;4===this.readyState&&(200<=this.status&&400>this.status?(a=this.getResponseHeader("X-Li-Pop"),
null===a?k(Error("X-Li-Popheader was null")):k(null,a)):k(Error(this.statusText)))}),n.open("GET",m,!0),n.send()}catch(p){k(p)}e={isComplete:function(){return i},isSuccess:function(){return h},getPopId:function(){if(!i&&!h)throw Error("getPopId can only be called if the request isComplete and isSuccess.");return j}};BOOMR.init({autorun:!1,log:function(){},RT:{strict_referrer:!1}});BOOMR.subscribe("before_beacon",function(a){var d=a.nt_load_end-a.nt_nav_st,h=a.nt_dns_end-a.nt_dns_st,i=a.nt_con_end-
a.nt_con_st,j=a.nt_res_st-a.nt_con_end,k=a.nt_res_end-a.nt_res_st,n=a.nt_load_st-a.nt_res_end,m;m=(m=/^pagekey-(.+)$/.exec(document.body.id))?m[1]:void 0;a={totalTime:d,dnsTime:h,connectTime:i,firstByteTime:j,pageDownloadTime:k,frontendTime:n,navigationTimingApi:c,pageKey:m,boomerangStart:BOOMR.t_start,boomerangEnd:BOOMR.t_end,redirectCount:a.nt_red_cnt,navigationType:a.nt_nav_type,navigationStart:a.nt_nav_st,unloadEventStart:a.nt_unload_st,unloadEventEnd:a.nt_unload_end,redirectStart:a.nt_red_st,
redirectEnd:a.nt_red_end,fetchStart:a.nt_fet_st,domainLookupStart:a.nt_dns_st,domainLookupEnd:a.nt_dns_end,connectStart:a.nt_con_st,connectEnd:a.nt_con_end,secureConnectionStart:a.nt_ssl_st,requestStart:a.nt_req_st,responseStart:a.nt_res_st,responseEnd:a.nt_res_end,domLoading:a.nt_domloading,domInteractive:a.nt_domint,domContentLoadedEventStart:a.nt_domcontloaded_st,domContentLoadedEventEnd:a.nt_domcontloaded_end,domComplete:a.nt_domcomp,loadEventStart:a.nt_load_st,loadEventEnd:a.nt_load_end,timeDone:a.t_done,
timePage:a.t_page,timeResponse:a.t_resp,timeSource:a["rt.start"],isSSL:"https:"===b.location.protocol?1:0};e.isSuccess()&&(a.pointOfPresenceId=e.getPopId());g.report=a;d=new Image(1,1);d.src=g.beacon_url+"?ir=t&dy=t&plist="+JSON.stringify(a);document.body.appendChild(d);f=!0});BOOMR.subscribe("page_unload",function(){f||BOOMR.page_ready()});g.fire=function(){c&&!(a.navigation&&a.timing&&a.timing.loadEventEnd||e.isComplete())?(setTimeout(g.fire,1E3),10<d++&&BOOMR.page_ready()):BOOMR.page_ready()};
g.fire()})(window);
